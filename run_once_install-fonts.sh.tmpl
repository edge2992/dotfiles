#!/usr/bin/env bash
set -euo pipefail

# Skip Install in CI environment
if [ -n "$CI" ]; then
  echo "CI environment detected. Skipping Nerd Fonts installation."
  exit 0
fi

if [[ "${SKIP_NERD_FONTS_INSTALL:-}" == "true" ]]; then
  echo "Skipping Nerd Fonts installation due to SKIP_NERD_FONTS_INSTALL."
  exit 0
fi

tmpdir=$(mktemp -d)

git clone --branch=master --depth=1 https://github.com/ryanoasis/nerd-fonts.git "$tmpdir/nerd-fonts"
cd "$tmpdir/nerd-fonts"

./install.sh UbuntuMono

cd /
rm -rf "$tmpdir"

