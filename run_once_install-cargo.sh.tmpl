#!/bin/bash
set -e

# Skip Rust compilation in CI environment
if [ -n "$CI" ]; then
  echo "CI environment detected. Skipping Rust tools installation."
  exit 0
fi

# Rust toolchain
if ! command -v cargo >/dev/null 2>&1; then
  echo "Installing Rust..."
  curl https://sh.rustup.rs -sSf | sh -s -- -y
  . "$HOME/.cargo/env" 
fi

# Rust tools
if ! command -v sheldon >/dev/null 2>&1; then
  cargo install sheldon
fi

if ! command -v eza >/dev/null 2>&1; then
  cargo install eza
fi

if ! command -v starship >/dev/null 2>&1; then
  cargo install starship --locked
fi

if ! command -v atuin >/dev/null 2>&1; then
  cargo install atuin
fi

